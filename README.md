# MindSpore

## 环境安装

### 1. 创建conda环境
```bash
conda create -n mindspore python=3.9
conda activate mindspore
```

### 2. 安装MindSpore框架
```bash
pip install mindspore
```

### 3. 安装Paillier同态加密库
```bash
pip install phe
```

### 4. 运行示例程序
```bash
python MindSpore.py
```

## 输出示例说明

### 原始数据
```
参与方 0: [101, '张三', '男', 32, 12500.0, '13012345678']
参与方 1: [102, '李四', '女', 28, 11800.0, '13087654321']
参与方 2: [103, '王五', '男', 45, 9000.0, '13511223344']
参与方 3: [104, '赵六', '女', 20, 6000.0, '13544332211']
参与方 4: [105, '孙七', '男', 27, 25000.0, '13988888888']
```

### 脱敏后的数据
```
参与方 0: [101, '张***', '男', 33.190598772554424, 10580.566810254788, '130****5678']
参与方 1: [102, '李***', '女', 15.703280979746221, -17210.730796644104, '130****4321']
参与方 2: [103, '王***', '男', 49.93079576865975, -36381.20307684023, '135****3344']
参与方 3: [104, '赵***', '女', 12.110161714483077, -119748.50285774197, '135****2211']
参与方 4: [105, '孙***', '男', 30.4535107645885, 92668.2242720504, '139****8888']
```

### 安全聚合结果
```
字段 'age' 统计:
  sum: 106.12 (真实值105 + 差分隐私噪声)
  average: 35.37
  count: 3

字段 'salary' 统计:
  sum: 39501.83 (真实值39501.25 + 噪声)
  average: 13167.28
  count: 3
```

### 同态加密示例
```
原始值: 1000 → 加密值: 238472837428374...
解密值: 1000
```

### 差分隐私应用示例
```
年龄字段 - 原始值: 32, 差分隐私处理后: 38.043618775180654
薪资字段 - 原始值: 12500.5, 差分隐私处理后: -16957.337338041278
```

## 功能说明

1. **数据脱敏**：
   - 姓名仅显示首字+星号
   - 手机号中间四位替换为星号
   - 数值型数据添加差分隐私噪声

2. **安全聚合**：
   - 使用联邦学习框架进行跨参与方数据聚合
   - 对年龄和薪资字段进行求和、平均值计算
   - 添加差分隐私保护确保个体数据不可追溯

3. **同态加密**：
   - 使用Paillier加密算法
   - 支持在加密状态下进行数值计算
   - 加密数据和解密结果验证

4. **差分隐私**：
   - 对敏感数值字段添加拉普拉斯噪声
   - 在保护隐私的同时保持数据统计特性
   - 可调节的隐私预算参数(ε)